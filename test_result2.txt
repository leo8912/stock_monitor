============================= test session starts =============================
platform win32 -- Python 3.13.11, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\leo89\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
metadata: {'Python': '3.13.11', 'Platform': 'Windows-11-10.0.26200-SP0', 'Packages': {'pytest': '9.0.2', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.12.1', 'asyncio': '1.3.0', 'cov': '7.0.0', 'html': '4.2.0', 'json-report': '1.5.0', 'metadata': '3.1.1', 'qt': '4.5.0'}, 'JAVA_HOME': 'C:\\Program Files\\Java\\jdk-17'}
PySide6 6.10.2 -- Qt runtime 6.10.2 -- Qt compiled 6.10.2
rootdir: D:\code\stock
configfile: pyproject.toml
plugins: anyio-4.12.1, asyncio-1.3.0, cov-7.0.0, html-4.2.0, json-report-1.5.0, metadata-3.1.1, qt-4.5.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 69 items

tests/integration/test_market_data.py::test_market_snapshot PASSED       [  1%]
tests/integration/test_market_data.py::test_market_indices PASSED        [  2%]
tests/integration/test_market_data.py::test_all_method PASSED            [  4%]
tests/integration/test_market_snapshot.py::test_market_snapshot_detail PASSED [  5%]
tests/integration/test_realtime.py::test_realtime_comparison PASSED      [  7%]
tests/integration/test_simple_extraction.py::test_extraction PASSED      [  8%]
tests/integration/test_updater_extraction.py::test_updater_extraction PASSED [ 10%]
tests/test_auto_start.py::test_auto_start PASSED                         [ 11%]
tests/test_core_fetcher.py::TestStockDataFetcher::test_fetch_hk_stock_logic PASSED [ 13%]
tests/test_core_fetcher.py::TestStockDataFetcher::test_fetch_multiple_stocks PASSED [ 14%]
tests/test_core_fetcher.py::TestStockDataFetcher::test_fetch_single_a_stock PASSED [ 15%]
tests/test_core_service.py::TestStockDataService::test_get_multiple_stocks_data PASSED [ 17%]
tests/test_core_service.py::TestStockDataService::test_get_stock_data_single PASSED [ 18%]
tests/test_core_service.py::TestStockDataService::test_process_stock_data PASSED [ 20%]
tests/test_core_validator.py::TestStockDataValidator::test_handle_special_cases PASSED [ 21%]
tests/test_core_validator.py::TestStockDataValidator::test_is_valid_invalid_data PASSED [ 23%]
tests/test_core_validator.py::TestStockDataValidator::test_is_valid_valid_data PASSED [ 24%]
tests/test_core_validator.py::TestStockDataValidator::test_validate_required_fields PASSED [ 26%]
tests/test_di_container.py::TestDIContainer::test_automatic_resolution PASSED [ 27%]
tests/test_di_container.py::TestDIContainer::test_factory_registration PASSED [ 28%]
tests/test_di_container.py::TestDIContainer::test_get_with_auto_creation PASSED [ 30%]
tests/test_di_container.py::TestDIContainer::test_singleton_registration PASSED [ 31%]
tests/test_exception_handling.py::test_safe_call_handles_exception PASSED [ 33%]
tests/test_fetcher.py::TestStockFetcher::test_fetch_a_stocks_limit PASSED [ 34%]
tests/test_fetcher.py::TestStockFetcher::test_fetch_hk_stocks_parsing PASSED [ 36%]
tests/test_helpers.py::TestHelpers::test_format_stock_code PASSED        [ 37%]
tests/test_helpers.py::TestHelpers::test_get_stock_emoji PASSED          [ 39%]
tests/test_helpers.py::TestHelpers::test_is_equal PASSED                 [ 40%]
tests/test_lru_cache.py::TestLRUCacheMechanism::test_cache_size_limit_should_work PASSED [ 42%]
tests/test_lru_cache.py::TestLRUCacheMechanism::test_different_stock_data_request_should_not_hit_cache PASSED [ 43%]
tests/test_lru_cache.py::TestLRUCacheMechanism::test_edge_cases_empty_data PASSED [ 44%]
tests/test_lru_cache.py::TestLRUCacheMechanism::test_edge_cases_none_values PASSED [ 46%]
tests/test_lru_cache.py::TestLRUCacheMechanism::test_get_stock_list_data_integration PASSED [ 47%]
tests/test_lru_cache.py::TestLRUCacheMechanism::test_same_stock_data_request_should_hit_cache PASSED [ 49%]
tests/test_market_manager.py::TestMarketManager::test_get_market_status PASSED [ 50%]
tests/test_market_manager.py::TestMarketManager::test_get_refresh_interval PASSED [ 52%]
tests/test_market_manager.py::TestMarketManager::test_initialization PASSED [ 53%]
tests/test_market_manager.py::TestMarketManager::test_is_market_open PASSED [ 55%]
tests/test_market_worker.py::TestMarketStatsWorker::test_calculate_stats PASSED [ 56%]
tests/test_market_worker.py::TestMarketStatsWorker::test_worker_run_flow PASSED [ 57%]
tests/test_price_fallback.py::TestPriceFallback::test_processor_fallback_none PASSED [ 59%]
tests/test_price_fallback.py::TestPriceFallback::test_processor_fallback_zero PASSED [ 60%]
tests/test_price_fallback.py::TestPriceFallback::test_processor_normal PASSED [ 62%]
tests/test_refresh_worker.py::TestRefreshWorker::test_worker_uses_stock_manager PASSED [ 63%]
