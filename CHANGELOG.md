# 更新日志

## v1.1.4 (2025-09-24)

### 🐛 修复
- **修复上证指数与平安银行数据显示相同问题**: 优化股票数据键值映射逻辑，确保指数和个股即使具有相同数字代码部分也能正确区分显示

### 🔧 技术改进
- 改进数据获取和处理逻辑，增强键值匹配准确性
- 优化异常处理机制，提高程序稳定性和用户体验

---

## v1.1.3 (2025-08-04)

### 🐛 修复
- **修复Release说明中更新日志未显示问题**: 优化GitHub Actions工作流中的CHANGELOG.md提取逻辑，确保发布时能正确显示更新日志

### 🔧 技术改进
- 改进版本更新机制，确保版本号和更新日志在所有相关文件中同步更新
- 优化发布流程，提高自动化发布可靠性

---

## v1.1.2 (2025-08-04)

### 🛠 更新内容
- **调整版本更新机制**: 更新日志不再写入main.py文件，改为集中记录在CHANGELOG.md和README.md中
- **优化GitHub Actions工作流**: 从CHANGELOG.md提取更新日志用于Release发布，确保发布信息准确同步
- **改进发布流程**: 确保每次发布时，版本号和更新日志自动同步更新，提升发布效率和准确性

---

## v1.1.1 (2025-08-04)

### 🐛 修复
- **修复指数和个股数据混淆问题**: 解决了当指数和个股具有相同数字代码部分时（如sh000001和sz000001）导致的数据错误显示问题
- **优化数据获取策略**: 将批量获取方式改为逐一获取每只股票的数据，确保数据准确性和完整性

### 🔧 技术改进
- 重构数据获取逻辑，避免因API返回数据结构中的键冲突导致的数据覆盖问题
- 保持向后兼容性，确保现有功能不受影响

---

## v1.1.0 (2024-12-20)

### ✨ 新功能
- **新增GitHub Token输入框**：在设置界面添加GitHub Token配置功能，提高API请求频率
- **优化检查更新提示**：当触发API速率限制时，弹出提示建议添加GitHub Token
- **修复版本同步问题**：确保版本号和更新日志在所有文件中自动同步

### 🔧 技术改进
- 在设置界面添加GitHub Token输入框，实现Token的实时保存
- 优化检查更新流程，增加Token验证逻辑
- 统一所有文件的版本号格式，确保vX.X.X格式一致性

---

## v1.0.8 (2024-12-19)

### 🐛 修复
- **彻底修复平安银行与上证指数识别错误问题**: 改为单独请求每个股票代码，解决easyquotation库批量请求时数据混淆的问题
- **优化数据请求策略**: 使用股票代码作为键，确保每个股票数据准确对应
- **提升系统稳定性**: 改进数据获取逻辑，避免数据源层面的识别错误

### 🔧 技术改进
- 重构数据获取逻辑，从批量请求改为单独请求每个股票代码
- 实现智能键映射，自动处理数据源返回的数字键和完整代码键
- 保持向后兼容性，确保现有功能不受影响

---

## v1.0.7 (2024-12-19)

### 🐛 修复
- **修复平安银行与上证指数识别错误问题**: 解决了平安银行(sz000001)与上证指数(sh000001)因数字部分相同导致的识别错误问题
- **优化股票代码匹配逻辑**: 优先使用完整代码匹配，避免数字部分相同导致的混淆
- **提升数据识别准确性**: 确保股票数据准确识别，提升用户体验

### 🔧 技术改进
- 重构股票代码匹配逻辑，从 `code[-6:]` 改为优先完整代码匹配
- 保持向后兼容性，完整代码未找到时仍使用后6位数字匹配

---

## v1.0.6 (2024-12-19)

### 🐛 修复
- 修复pypinyin依赖未打包问题，完善requirements.txt，确保所有环境正常运行

---

## v1.0.5 (2024-12-19)

### ✨ 新功能
- 增加涨停/跌停封单手显示功能，自动识别并高亮
- 表格宽度可自适应封单手显示，内容不会被遮挡
- 封单手只显示数字，不显示"手"单位，显示更简洁
- ST股票支持拼音、首字母、去前缀模糊搜索，输入"st"或拼音片段可精准匹配

### 🔧 技术改进
- 本轮优化涵盖：主界面自适应、极简美观、自动升级、release日志自动提取、ST与封单功能增强

---

## v1.0.4 (2024-12-19)

### 🔧 技术改进
- 测试changelog自动提取功能

---

## v1.0.3 (2024-12-19)

### 🔧 技术改进
- 移除因数据源限制无法准确显示的封单手功能，主界面恢复为极简三列

---

## v1.0.2 (2024-12-19)

### 🔧 技术改进
- 测试自动升级功能

---

## v1.0.1 (2024-12-19)

### 🐛 修复
- 修复主窗口高度自适应逻辑，股票数量再多都能完整显示，不会被裁剪
- 采用真实行高动态调整，最小显示3行，边界精简

### ✨ 改进
- 体验更流畅，界面更美观